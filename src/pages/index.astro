---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Subscribe from '../components/Subscribe.astro';
import Center from '../layouts/primitives/Center.astro';
import Stack from '../layouts/primitives/Stack.astro';
import Grid from '../layouts/primitives/Grid.astro';
import Cluster from '../layouts/primitives/Cluster.astro';
import Sidebar from '../layouts/primitives/Sidebar.astro';
import Switcher from '../layouts/primitives/Switcher.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';

const principles = [
	{
		title: 'Make AI a servant, not a sovereign.',
		description: 'Use AI to sharpen your thinking, not replace it. The richer your internal network of ideas, the more intelligently you can prompt, critique, and compose with any tool.',
	},
	{
		title: 'Understanding lives in relationships.',
		description: "A fact is a point. A connection is a line. A system is a structure you can navigate. We help you move from memorizing to seeing ‚Äî from isolated ideas to the geometry of how things fit together.",
	},
	{
		title: 'Learning is something you build.',
		description: "You don't learn by reading alone. You learn by assembling ideas into something of your own ‚Äî through writing, questioning, diagramming, and synthesis.",
	},
	{
		title: 'Clarity compounds.',
		description: "You don't need mastery to move forward. You need the next clearer idea. Each time you revisit a concept, you see finer structure in what seemed simple before.",
	},
	{
		title: 'The medium shapes the mind.',
		description: "The tools you use define what you're able to notice. Better learning environments lead to better questions. That's why this site exists ‚Äî not just as content, but as a place designed for thinking.",
	},
];

const schools = [
	{
		name: 'Story & Expression',
		slug: 'story-and-expression',
		emoji: 'üé≠',
		tagline: 'Meaning through narrative and symbol',
		domains: 'Mythology, rhetoric, storycraft, writing',
	},
	{
		name: 'Pattern & Play',
		slug: 'pattern-and-play',
		emoji: 'üìä',
		tagline: 'Meaning through structure and system',
		domains: 'Logic, probability, data, complexity',
	},
	{
		name: 'Society & Self',
		slug: 'society-and-self',
		emoji: 'üå±',
		tagline: 'Meaning through psychology and ethics',
		domains: 'Philosophy, motivation, learning theory',
	},
	{
		name: 'Making',
		slug: 'making',
		emoji: 'üõ†Ô∏è',
		tagline: 'Meaning through creation and practice',
		domains: 'Web design, craft, design, publishing',
	},
];

const dimensions = [
	{ level: 'Point', meaning: 'An isolated observation', example: '"The water is cold."' },
	{ level: 'Line', meaning: 'Connecting experience to measurement', example: '"The water is 45¬∞F."' },
	{ level: 'Square', meaning: 'Interacting variables', example: '"Heating the water raises its temperature over time."' },
	{ level: 'Cube', meaning: 'Systems-level thinking', example: '"Temperature, heat transfer, molecular motion, and entropy co-vary within a thermodynamic system."' },
];
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body>
		<Header />

		<main>
			<!-- Hero Section -->
			<section class="hero">
				<Center max="var(--measure-wide)" gutters="var(--space-m)">
					<Switcher threshold="55rem" space="var(--space-xl)" class="hero-switcher">
						<div class="hero-text-column">
							<Stack space="var(--space-l)">
								<Stack space="var(--space-m)">
									<h1>Learn how to think, not what to think.</h1>
									<p class="subhead">
										The Self-Taught Scholar is a learning space for curious adults who want to think more clearly,
										connect ideas across disciplines, and use modern tools ‚Äî especially AI ‚Äî without losing their agency.
									</p>
								</Stack>
								<Cluster space="var(--space-s)" justify="flex-start">
									<a href="/library" class="button button-primary">Start Exploring</a>
									<a href="#subscribe" class="button button-secondary">Get Updates</a>
								</Cluster>
							</Stack>
						</div>
						<div class="hero-image-column">
							<img src="/images/STS_hero.png" alt="Dimensional learning cube illustration" />
						</div>
					</Switcher>
				</Center>
			</section>

			<!-- Principles Section -->
			<section class="principles region">
				<Center max="var(--measure-wide)">
					<Stack space="var(--space-xl)">
						<h2 class="section-header">How we think about learning</h2>
						<div class="principles-list">
							<Stack space="var(--space-l)">
								{principles.map((principle, index) => (
									<article class="principle">
										<Sidebar sideWidth="2rem" contentMin="70%" space="var(--space-m)" noStretch>
											<span class="principle-number">{index + 1}</span>
											<Stack space="var(--space-xs)">
												<h3>{principle.title}</h3>
												<p>{principle.description}</p>
											</Stack>
										</Sidebar>
									</article>
								))}
							</Stack>
						</div>
					</Stack>
				</Center>
			</section>

			<!-- Dimensionality Section -->
			<section class="dimensionality region">
				<Center max="var(--measure-wide)">
					<Stack space="var(--space-l)">
						<Stack space="var(--space-s)" class="section-header">
							<h2>What getting smarter actually looks like</h2>
							<p class="section-intro">
								Most education teaches in lines. Real understanding lives in relationships.
							</p>
						</Stack>

						<div class="dimension-table-wrapper">
							<table class="dimension-table">
								<thead>
									<tr>
										<th></th>
										<th>What it means</th>
										<th>What it looks like</th>
									</tr>
								</thead>
								<tbody>
									{dimensions.map((dim) => (
										<tr>
											<td class="dimension-level"><strong>{dim.level}</strong></td>
											<td>{dim.meaning}</td>
											<td class="dimension-example">{dim.example}</td>
										</tr>
									))}
								</tbody>
							</table>
						</div>

						<p class="dimension-note">
							Growth isn't a staircase. It's a spiral. You return to the same ideas again and again ‚Äî
							each time with richer connections and finer resolution.
						</p>
					</Stack>
				</Center>
			</section>

			<!-- Structure Section -->
			<section class="structure region">
				<Center max="var(--measure)">
					<Stack space="var(--space-xl)">
						<Stack space="var(--space-s)" class="section-header">
							<h2>How the site is organized</h2>
							<p class="section-intro">
								Everything here is built around four Schools ‚Äî not departments, but ways of seeing.
							</p>
						</Stack>

						<Grid min="20rem" space="var(--space-l)">
							{schools.map((school) => (
								<a href={`/library/${school.slug}/`} class="school-card-link">
									<article class="school-card">
										<Stack space="var(--space-2xs)">
											<span class="school-emoji">{school.emoji}</span>
											<h3>{school.name}</h3>
											<p class="school-tagline">{school.tagline}</p>
											<p class="school-domains">{school.domains}</p>
										</Stack>
									</article>
								</a>
							))}
						</Grid>

						<div class="structure-explanation">
							<Stack space="var(--space-m)">
								<p>
									Ideas don't stay in one school. A concept like <em>Persuasion</em> starts in Rhetoric (Story & Expression),
									deepens through Psychology and Ethics (Society & Self), and finds its ultimate form when you actually
									build something persuasive (Making). We call these cross-cutting ideas <strong>Scrolls</strong> ‚Äî
									conceptual threads that weave through multiple schools and domains.
								</p>
								<p>
									When scrolls come together into a guided learning path, that's a <strong>Class</strong> ‚Äî
									a journey through several big ideas, drawn from multiple schools, that ends with something you've made.
								</p>
							</Stack>
						</div>
					</Stack>
				</Center>
			</section>

			<!-- CTA Section -->
			<section class="cta region">
				<Center max="var(--measure)">
					<Stack space="var(--space-l)" class="cta-content">
						<Stack space="var(--space-s)">
							<h2>You don't need a degree. You need a direction.</h2>
						</Stack>
						<Cluster space="var(--space-s)" justify="center">
							<a href="/library" class="button button-primary">Start Exploring</a>
							<a href="/essays" class="button button-secondary">Read Essays</a>
						</Cluster>
					</Stack>
				</Center>
			</section>

			<!-- Subscribe Section -->
			<section id="subscribe" class="join region">
				<Center max="var(--measure)">
					<Stack space="var(--space-l)">
						<Stack space="var(--space-xs)" class="section-header">
							<h2>Join the Journey</h2>
							<p class="text-muted">
								This platform is being built in public. Subscribe to follow along as we add new content,
								launch courses, and figure out what works.
							</p>
						</Stack>
						<Subscribe
							title=""
							blurb="Occasional emails when something worth reading drops. No spam, unsubscribe anytime."
							showCheckboxes={true}
							defaultInterests={["blog", "courses"]}
						/>
						<p class="join-note text-small text-muted">
							Not ready to subscribe? <a href="/blog">Browse the blog</a> to see if this is for you.
						</p>
					</Stack>
				</Center>
			</section>
		</main>

		<Footer hideSubscribe={true} />
	</body>
</html>

<style>
	/* Hero */
	.hero {
		background: linear-gradient(135deg, #dfe6ff 0%, #d4ddff 40%, #e4d9ff 100%);
		padding-block: var(--space-xl);
	}

	.hero-switcher {
		align-items: center;
	}

	.hero-text-column {
		max-inline-size: var(--measure);
	}

	.hero h1 {
		font-size: var(--step-4);
		line-height: 1.1;
		color: var(--color-dark);
	}

	.subhead {
		font-size: var(--step-0);
		color: var(--color-text);
		line-height: 1.6;
	}

	.hero-image-column img {
		max-inline-size: 100%;
		block-size: auto;
	}

	/* Buttons */
	.button {
		display: inline-flex;
		align-items: center;
		padding-block: var(--space-xs);
		padding-inline: var(--space-m);
		font-size: var(--step--1);
		font-weight: 500;
		text-decoration: none;
		border-radius: var(--space-2xs);
		transition: all 0.15s ease;
	}

	.button-primary {
		background-color: var(--color-dark);
		color: var(--color-light);
	}

	.button-primary:hover {
		background-color: var(--color-text);
	}

	.button-secondary {
		background-color: transparent;
		color: var(--color-text);
		border: 1px solid var(--color-border);
	}

	.button-secondary:hover {
		border-color: var(--color-text-muted);
		background-color: var(--color-bg-subtle);
	}

	/* Section headers */
	.section-header {
		text-align: center;
	}

	.section-header h2 {
		font-size: var(--step-2);
	}

	.section-intro {
		font-size: var(--step-0);
		color: var(--color-text-muted);
		max-inline-size: 55ch;
		margin-inline: auto;
	}

	/* Principles ‚Äî white background */
	.principles {
		background-color: var(--color-bg);
	}

	.principle {
		padding-block-end: var(--space-l);
		border-block-end: 1px solid var(--color-border);
	}

	.principle:last-child {
		border-block-end: none;
		padding-block-end: 0;
	}

	.principle-number {
		font-size: var(--step-1);
		font-weight: 700;
		color: var(--color-text-muted);
		opacity: 0.5;
	}

	.principle h3 {
		font-size: var(--step-1);
		font-weight: 600;
		line-height: 1.3;
	}

	.principle p {
		font-size: var(--step-0);
		color: var(--color-text);
		line-height: 1.6;
	}

	/* Structure / Schools ‚Äî white background */
	.structure {
		background-color: var(--color-bg);
	}

	.school-card-link {
		text-decoration: none;
		color: inherit;
		display: block;
	}

	.school-card {
		padding: var(--space-m);
		background-color: var(--color-bg);
		border-radius: var(--space-xs);
		border: 1px solid var(--color-border);
		transition: box-shadow 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
	}

	.school-card-link:hover .school-card {
		border-color: var(--color-accent);
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
		transform: translateY(-2px);
	}

	.school-emoji {
		font-size: var(--step-3);
	}

	.school-card h3 {
		font-size: var(--step-0);
		font-weight: 600;
	}

	.school-tagline {
		font-size: var(--step--1);
		color: var(--color-text);
		font-style: italic;
	}

	.school-domains {
		font-size: var(--step--1);
		color: var(--color-text-muted);
	}

	.structure-explanation {
		max-inline-size: var(--measure);
		margin-inline: auto;
		padding-block-start: var(--space-m);
	}

	.structure-explanation p {
		font-size: var(--step-0);
		color: var(--color-text);
		line-height: 1.6;
	}

	.structure-explanation strong {
		color: var(--color-accent);
	}

	/* Dimensionality ‚Äî light gray background */
	.dimensionality {
		background-color: var(--color-bg-subtle);
	}

	.dimension-table-wrapper {
		overflow-x: auto;
	}

	.dimension-table {
		width: 100%;
		border-collapse: collapse;
		font-size: var(--step-0);
	}

	.dimension-table th,
	.dimension-table td {
		padding: var(--space-s);
		text-align: left;
		border-block-end: 1px solid var(--color-border);
	}

	.dimension-table th {
		font-weight: 600;
		color: var(--color-text-muted);
		font-size: var(--step--2);
		text-transform: uppercase;
		letter-spacing: 0.05em;
	}

	.dimension-level {
		white-space: nowrap;
	}

	.dimension-example {
		color: var(--color-text-muted);
		font-style: italic;
	}

	.dimension-note {
		text-align: center;
		font-size: var(--step-0);
		color: var(--color-text-muted);
		max-inline-size: var(--measure);
		margin-inline: auto;
		font-style: italic;
	}

	/* CTA ‚Äî hero gradient to bookend the page */
	.cta {
		background: linear-gradient(135deg, #dfe6ff 0%, #d4ddff 40%, #e4d9ff 100%);
		padding-block: var(--space-2xl);
	}

	.cta-content {
		text-align: center;
	}

	.cta h2 {
		font-size: var(--step-2);
		max-inline-size: 20ch;
		margin-inline: auto;
	}

	/* Join */
	.join {
		background-color: var(--color-bg);
	}

	.join-note {
		text-align: center;
	}

	.join-note a {
		color: var(--color-accent);
	}
</style>
